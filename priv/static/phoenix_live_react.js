var u=Object.defineProperty;var p=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var h=(t,e,s)=>e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,i=(t,e)=>{for(var s in e||(e={}))E.call(e,s)&&h(t,s,e[s]);if(p)for(var s of p(e))m.call(e,s)&&h(t,s,e[s]);return t};import R from"react";import l from"react-dom";var r=function(t,e,s,o={},a={}){let n=t.dataset.liveReactProps?JSON.parse(t.dataset.liveReactProps):{};t.dataset.liveReactMerge?n=i(i(i({},a),n),o):n=i(i({},n),o);let c=R.createElement(s,n);return l.render(c,e),n},d=function(t,e){let s=t.nextElementSibling,o=Array.prototype.reduce.call(t.dataset.liveReactClass.split("."),(a,n)=>a[n],window);return r(t,s,o,e),{target:s,componentClass:o}},y=function(){let t=document.querySelectorAll("[data-live-react-class]");Array.prototype.forEach.call(t,e=>{d(e)})},C={mounted(){let{el:t}=this,e=this.pushEvent.bind(this),s=this.pushEventTo&&this.pushEventTo.bind(this),o=this.handleEvent&&this.handleEvent.bind(this),{target:a,componentClass:n}=d(t,{pushEvent:e}),c=r(t,a,n,{pushEvent:e,pushEventTo:s,handleEvent:o});t.dataset.liveReactMerge&&(this.props=c),Object.assign(this,{target:a,componentClass:n})},updated(){let{el:t,target:e,componentClass:s}=this,o=this.pushEvent.bind(this),a=this.pushEventTo&&this.pushEventTo.bind(this),n=this.handleEvent,c=this.props,v=r(t,e,s,{pushEvent:o,pushEventTo:a},c);t.dataset.liveReactMerge&&(this.props=v)},destroyed(){let{target:t}=this;l.unmountComponentAtNode(t)}};export{C as default,y as initLiveReact,d as initLiveReactElement};
